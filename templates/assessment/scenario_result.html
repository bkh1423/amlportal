{% extends 'base.html' %}
{% block title %}Final Result{% endblock %}
{% block content %}

<style>
  body {
    background: #0a0c15;
    color: #fff;
    font-family: "Inter", sans-serif;
  }

  .result-container {
    max-width: 900px;
    margin: 80px auto;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,204,51,0.2);
    border-radius: 16px;
    padding: 40px;
    box-shadow: 0 0 40px rgba(0,0,0,0.4);
  }

  h1, h2 {
    color: #ffcc33;
    font-family: "Abhaya Libre", serif;
  }

  p {
    color: #ccc;
    line-height: 1.7;
    margin-bottom: 15px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 25px;
  }

  th, td {
    padding: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }

  th {
    background: rgba(255,204,51,0.1);
    color: #ffcc33;
  }

  .btn {
    display: inline-block;
    margin-top: 25px;
    background: #ffcc33;
    padding: 10px 25px;
    border-radius: 25px;
    color: #161d33;
    font-weight: 600;
    text-decoration: none;
  }

  .btn:hover {
    background: #ffd84d;
  }
</style>

<div class="result-container">
  <h1>{{ scenario.title }}</h1>
  <h2>Risk Level: {{ scenario.get_risk_level_display }}</h2>

  <p><strong>Summary:</strong> {{ scenario.output_summary }}</p>

  <h3>Recommended Services</h3>
  <p>{{ scenario.recommended_services }}</p>

  <h3>Sanctions List Activation</h3>
  <p>{{ scenario.sanctions_list_activation }}</p>

  <h3>Monitoring Frequency</h3>
  <p>{{ scenario.monitoring_frequency }}</p>

  <h3>Tags</h3>
  <p>{{ scenario.tags }}</p>

  <h3>Activated Scenarios / Rules</h3>
  <table>
    <tr>
      <th>Scenario Name</th>
      <th>Description</th>
    </tr>
    {% for s in scenario.scenarios.all %}
    <tr>
      <td>{{ s.name }}</td>
      <td>{{ s.description }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="2">No active scenarios found</td></tr>
    {% endfor %}
  </table>

  <a href="{% url 'assessment_sections' %}" class="btn">Back to Assessment</a>
</div>

{% endblock %}
